/*! jQuery Navigate plugin - v1.0.1 - 2014-05-02
* https://github.com/jongha/jquery-navigate
* Copyright (c) 2014 Jong-Ha Ahn; Licensed MIT */
!function(a){var b=a.ajaxSettings.xhr;a.ajaxSetup({xhr:function(){var a=b(),c=this;return a&&("function"==typeof a.addEventListener&&void 0!==c.progress&&a.addEventListener("progress",function(a){c.progress(a)},!1),"object"==typeof a.upload&&void 0!==c.progressUpload&&a.upload.addEventListener("progress",function(a){c.progressUpload(a)},!1)),a}})}(jQuery),function(a){a.fn.navigate=function(b){b&&"string"==typeof b&&(b={url:b});var c=a.extend({height:"3px",backgroundColor:"red",min:0,max:100,position:"absolute",top:0,left:0,id:"_navigation_id"},b);b=a.extend(c,b);var d=a("#"+b.id);d.length&&d.remove(),d=a("<div></div>").css({height:b.height,"background-color":b.backgroundColor,width:b.min+"%",position:b.position,top:b.top,left:b.left}).attr({id:b.id}),a("body").append(d),a.ajax({url:b.url,data:{},success:function(c){d.animate({width:"100%"},400,function(){a(this).remove(),a("html").html(c),window.history.pushState(b,"Navition to "+b.url,b.url)})},fail:function(){d.remove()},progress:function(a){if(a.lengthComputable)d.animate({width:a.loaded/a.total*100+"%"});else{var b=Math.min(50,a.loaded/204800*100);d.animate({width:b+"%"})}}})}}(jQuery);